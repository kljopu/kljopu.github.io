---
title: "도메인 주도 설계로 시작하는 마이크로서비스 개발 5-2"
# header:
#   overlay_image: /assets/images/posts/ddd_cover.png
#   image: /assets/images/posts/ddd_cover.png
categories:
  - MicroService
tags:
  - 객체지향
  - 도메인 주도 설계
  - 마이크로서비스
date: "2022-01-10 22:00:14"
last_modified_at: "2022-01-10 22:00:14 +0800"
toc: true
toc_sticky: true
toc_label: Table of Contents
---

<br>

![책커버](/assets/images/posts/ddd_msa_cover.jpeg){: .align-center}{: width="50%" height="50%"}
<br>


## <font color='dodgerblue'>5.4 이벤트 스토밍을 통한 마이크로서비스 도출 </font>

<br>

`이벤트 스토밍`이란 DDD 설계를 가속화할 수 있도록 이벤트 중심으로 이해관계자들이 모여 브레인 스토밍을 하는 워크숍을 말합니다.

### <font color='dodgerblue'>5.4.1 이벤트 스토밍 워크숍 준비 </font>

- 워크숍 준비 
<br>
워크숍을 위해서는 다음과 같은 사항이 필요합니다.
<br>
1. 공간: 깨끗한 벽
2. 참가자: 모든 이해관계자
3. 준비물: 흰색 전지, 다양한 색의 포스트잇, 다양한 색의 라인 테이프
4. 열린 분위기: 다양한 이해관계자들이 부담 없이 의견을 낼 수 있게 분위기를 조성하는 퍼실리테이터
<br><br>

- 스티커 유형별 의미
<br>

![msa5_2_1](/assets/images/posts/ddd_msa_5_2_1.png){: .align-center}
![msa5_2_2](/assets/images/posts/ddd_msa_5_2_2.png){: .align-center}
<br>

### <font color='dodgerblue'>5.4.2 이벤트 스토밍 워크숍 진행 </font>

위와 같이 워크숍 준비가 마무리 되면 워크숍을 진행합니다.

워크숍은 다음과 같은 순서로 진행됩니다.
<br>

#### 1. 도메인 이벤트 찾기
<br>

`도메인 이벤트`는 비지니스의 어떤 상태를 생성, 변경, 삭제하는 요소입니다.

비지니스 흐름에서 발생한 이벤트에 초점을 맞춰 도메인 이벤트를 찾아 벽에 붙입니다.

이벤트는 오른쪽으로 갈 수록 나중에 진행되는 것이며, 이벤트가 연쇄적으로 발생하는 경우는 바로 옆, 조건에 따라 대체적으로 발생하는 경우는 평행하게 붙입니다.
<br>

#### 2. 외부 시스템 도출
<br>

이벤트가 동작하면서 레거시 시스템이나 외부 시스템과의 연계가 필요하다면 이를 별도의 스티커로 붙이고 이벤트와 화살표로 관계를 표시합니다.
<br>

#### 3. 커맨드 도출
<br>

이벤트를 동작하게 하는 `커맨드를(Command)`를 찾습니다.

커멘드를 작성할 때 주의할 점은 이벤트를 동사형으로 작성해야 합니다. 또한 하나의 커맨드는 여러 이벤트를 동시, 혹은 연속적으로 동작 시킬 수 있스므로 이를 염두하여 작성합니다.
<br>

#### 4. 핫스폿 도출
<br>

워크숍 진행 중 의문이 들거나 워크숍 시간 내에 해결 할 수 없는 것들은 따로 정리해 두는 것이 좋습니다. 이를 `핫스폿`이라 합니다.
<br>

#### 5. 액터 도출
<br>

커맨드를 실행하는 주체를 `액터`라고 합니다. 액터는 사용자가 될 수도 있고, 조직이나 담당자가 될 수도 있습니다.

액터를 도출할 때에는 특정 비지니스를 수행하는 명확한 역활자를 도출하려고 노력해야 합니다.

이렇게 액터를 도출해 내면 지금까지 식별한 커맨드와 이벤트를 바탕으로 문장화 해봅니다.

만약 문장이 자연스럽지 않다면, 지금까지 작성한 카드들을 변경하거나 새로 도출하며 문장이 자연스럽도록 반복합니다.
<br>

#### 6. 애그리거트 정의
<br>



:bulb:
본 글은<br>
[도메인 주도 설계](https://kljopu.github.io/categories/#microservice) 시리즈로 작성 됩니다. <br>
[도메인 주도 설계로 시작하는 마이크로서비스 개발 5-1](https://kljopu.github.io/microservice/msa1/) <br>
[도메인 주도 설계로 시작하는 마이크로서비스 개발 5-2](https://kljopu.github.io/microservice/msa2/) <br>
{: .notice--info}
